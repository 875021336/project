<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>图片懒加载</title>
</head>

<style>
  .content {
    width: 70%;
    margin: 0 auto;
  }
    img {
       width: 100%;
    }
</style>

<body>
<div class="content">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-c8c04e7019dd283e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-102af2e7f9e0557a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-f3f6504d6ac7b744.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-082cbb32506ce832.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-410b8cff6ad2b723.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-ef682c2a476ad7f8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-e67b383d30fb98e7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-c8c04e7019dd283e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-102af2e7f9e0557a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-f3f6504d6ac7b744.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-082cbb32506ce832.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-410b8cff6ad2b723.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-ef682c2a476ad7f8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-e67b383d30fb98e7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-c8c04e7019dd283e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-102af2e7f9e0557a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-f3f6504d6ac7b744.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-082cbb32506ce832.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-410b8cff6ad2b723.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-ef682c2a476ad7f8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-e67b383d30fb98e7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-c8c04e7019dd283e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-102af2e7f9e0557a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-f3f6504d6ac7b744.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-082cbb32506ce832.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-410b8cff6ad2b723.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-ef682c2a476ad7f8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
    <img src="" data-src="http://upload-images.jianshu.io/upload_images/8048507-e67b383d30fb98e7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片">
</div>
</body>
<script type="text/javascript">

        var imgs = document.querySelectorAll('img');

        //offsetTop是元素与offsetParent的距离，循环获取直到页面顶部
        function getTop(e) {
            var T = e.offsetTop;
            while(e = e.offsetParent) {
                T += e.offsetParent;
            }
            return T;
        }

        function lazyLoad(imgs) {
            var H = window.innerHeight;
            var S = document.documentElement.scrollTop || document.body.scrollTop;
            for (var i = 0; i < imgs.length; i++) {
                if (H + S > getTop(imgs[i])) {
                    imgs[i].src = imgs[i].getAttribute('data-src');
                }
            }
        }

        window.onload = window.onscroll = function () {
            lazyLoad(imgs);
        }
</script>
</html>
</body>
</html>

